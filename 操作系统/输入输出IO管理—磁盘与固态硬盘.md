# 输入输出IO管理—磁盘与固态硬盘
## 磁盘
磁盘盘面上的数据存储在一组同心圆中，称为**磁道**。    
磁道又划分为几百个扇区，每个扇区固定存储大小，一个扇区称为一个**盘块**。  
磁盘的存储存储能力受限于最内道的最大记录密度。   
磁盘上能存储的物理块数目由扇区数，磁道数及磁盘面数决定。   
磁盘地址用：  
$柱面号·盘面号·扇区号$表示   
## 磁盘的管理
+ 磁盘初始化   
在磁盘可以存储数据之前，必须把它分成扇区，以便磁盘控制器能够进行读写操作，这个过程称为低级格式化（物理格式化）。   
+ 分区   
+ 引导块   
具有启动分区的磁盘称为启动磁盘或系统磁盘。   
自举程序通常存放在ROM中，为了避免改变自举代码而需要改变ROM硬件的问题，通常只在ROM中保留很小的自举装入程序，而将完整功能的引导程序保存在磁盘的启动块上（磁盘上的固定位置）。 主引导记录 MBR   
+ 坏块   
**对坏块的处理实质是用某种机制使系统不去使用坏块。**   
## 磁盘的调度算法
1. 寻找时间  
$T_{s}=m \times n + s$
2. 选择延迟时间  
$T_{r}=\frac{1}{2r}$
3. 传输时间  
$T_{a}=T_{s}+\frac{1}{2r}+\frac{b}{rN}$
+ **先来先服务（FCFS）算法**  
先来后到  
+ **最短寻找时间优先（Short Seek Time First,SSTF）算法**   
每次选择与当前磁头所在磁道最近的磁道。   
会出现饥饿的现象。   
+ **扫描（SCAN）(又称为电梯梯度算法)**   
 选择与当前磁头移动方向上距离最近的请求作为下一次的服务。  
+ **循环扫描（Circular SCAN,C-SCAN）算法**  
在扫描算法的基础上规定磁头单向移动提供服务，回返时回到起始端而不是继续在当前位置进行下一次服务。   
## 固态硬盘 SSD
+ 特性：  
1. 基于闪存技术。   
2. 某块进行若干次重复写后，就会磨损坏，不能在使用。  
3. 相比传统磁盘，SSD随机访问速度比机械磁盘快很多。也没有任何机械噪声和震动，能耗更低，抗震性好，安全性高。   

+ 磨损均衡
1. 动态磨损均衡。  
写入数据时，自动选择较新的闪存块，老的闪存块先歇一歇。   
2. 静态磨损均衡。  
SSD会监测并自动进行数据分配，让老的闪存块无须承担写数据的存储任务，同时让较新的闪存块腾出空间，平常的读写操作在较新的闪存块中进行。   
