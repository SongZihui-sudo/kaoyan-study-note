# 输入输出IO管理－设备独立性软件
## 高速缓存与缓冲区
1. 磁盘高速缓存  
**磁盘的高速缓存逻辑上属于磁盘，物理上则是驻留在内存的盘块。**
```mermaid
graph LR;
subgraph memory
内存1 --- |高速磁盘缓存 内存2| 内存2 --- 内存3 --- 内存4
end
subgraph disk
块1 --- 块2 --- 块3 --- 块4
end
内存2 --> 块1
```
2. 缓冲区  
目的：
    1. 减少CPU与IO设备之间速度不匹配的矛盾
    2. 减少对CPU的中断频率，放宽对CPU中断响应时间的限制
    3. 解决基本数据单元大小（即数据粒度）不匹配的问题
    4. 提高CPU与IO设备之间的并行性
+ 单缓冲
当设备与处理机交换数据时，先把数据写入缓冲区，然后需要数据的设备或处理机从缓冲区取走数据，在缓冲区写入或取出的过程，另一方需等待。  
```mermaid
graph LR;
subgraph 用户进程
处理C
工作区
end
IO设备 --输入T--> 缓冲区 --传送T--> 工作区
```
单缓冲处理每块数据的用时为：   
$max(C,T)+M$
+ 双缓冲
```mermaid
graph LR;
subgraph 双缓冲
缓冲区1 <--> 缓冲区2
end
subgraph 用户进程
工作区
end
IO设备 --> 双缓冲 --> 工作区
```
双缓冲处理一块数据的用时为：  
$max(C+M,T)$
+ 循环缓冲
