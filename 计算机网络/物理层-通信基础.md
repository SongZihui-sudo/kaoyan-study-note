# 物理层－通信基础
## 基本概念
+ 数据，信号与码元   
**数据**是传送消息的实体。**信号**是数据的电气或电磁表现，是数据在传输过程中的存在形式。   
**数据**传输方式可以分为**串行传输**和**并行传输**。   
**码元**是指一个固定时长的信号波形（数字脉冲）表示一位`k`为的数字，代表不同离散数值的基本波形，是数字通信中数字信号的计量单位，这个时长内的信号称为`k`进制**码元**。   
该时长成为**码元宽度**。    
+ 信源，信道与信宿   
**信源**是产生和发送数据的源头。信宿是接受数据的终点，它们通常都是计算机和其他数字终端装置。   
**信道**与电路并不等同，信道是信号的传输媒介。一个信道可视为一条线路的逻辑部件，一般用来表示某个方向传送信息的介质，因此一条信道通常包含一条发送信道和一条接受信道。      
交互方式：  
  1. 单向通信
  2. 半双工通信
  3. 全双工通信
+ 速率，波特与带宽   
速率也称数据率，可以用码元传输速率和消息传输速率表示。  
**码元传输速率**   
波特率，单位时间内数字通信系统所传输的码元个数。（脉冲个数，信号变化次数）单位`Baud`  
**信息传输速率**   
信息速率，比特率。他是单位时间内数字通信系统传输的二进制码元个数。      
若一个码元携带n比特的信息量，这M 波特率的码元传输速率说对应的消息传输速率为
$$Mn \ 比特/秒$$
带宽常用来表示网络的通信线路所能传输的能力。带宽表示单位时间内从网络中某一点到另一点所能通过的“最高数据率”。   
## 奈奎斯特定理与香农定理
### 奈奎斯特定理
极限码元传输速率为 2W 波特，其中 W 是理想低通信道的带宽。V表示每个码元离散电平的数目（**指有多少种码元**）   
极限数据率为：  
$$理想低通通道下的极限数据传输速率＝2log_{2}V$$   
得出一些结论：    
1. 在任何信道中，码元传输速率是有上限的。   
2. 信道的频带越宽（即通过的信号高额分量越多），就可以用更高的速率进行码元的有效传输。   
3. 奈式准则给出了码元传输的限制，但并未对信息传输速率给出限制。   
### 香农定理  
给出了带宽受限且有高斯白噪声干扰的信道的极限数据传输速率。   
香农定理定义为：   
$$信道的极限数据传输速率＝Wlog_{2}(1+\frac{S}{N})$$
$$W通道带宽$$
$$S信道所传输信号的平均功率$$
$$N为信道内部的高斯噪声功率$$
$$S／N 为信噪比$$  
一些结论：   
1. 信道的带宽或信道的信噪比越大，信息的极限传输速率越高。
2. 对一定的传输带宽和一定的信噪比，信息传输速率的上限是确定的。
3. 只要信息传输速率低于信道的极限传输速率，就能找到某种方法来实现无差错的传输。  
4. 香农定理得出的是极限信息传输速率，实际信道的传输速率低于它不少。  
## 编码与调制
### 数字数据编码为数字信号
+ 归零编码   
```
  高电平 --> 1  
  低电平 --> 0   
```  
提供了自同步机制。   
+ 非归零编码   
`不用归零`   
一个周期全部用来传输数据。难以同步   
+ 反向归零编码   
```
  信号翻转 --> 0   
  信号保持不变 --> 1  
``` 
 既能传输时钟信号又能不损失系统带宽。   
+ 曼彻斯特编码
```
将一个码元分成两个相等的间隔，前一个间隔为高电平而后一个间隔为低电平表示码元1，码元0与此表示相反。  
```
位中的跳变既可以作为时钟信号（同步），又作为数据信号，但它所占的频带宽度是原始基带宽度的两倍。  
+ 差分曼彻斯特编码
```
  若码元为1，则前半个码元的电平与上一码元的后半个电平相同，若码元为0，相反。  
```
每个码元中间都有一次电平跳转，可以实现自动同步，抗干扰性好。  
+ 4B／5B编码
## 数字数据调制为模拟信号
1. 幅移键控
2. 频移键控
3. 相移键控
4. 正交振幅调制
## 模拟数据编码为数字信号
1. 采样   
对模拟信号进行周期性扫描，把时间上连续的信号变成时间上离散的信号。    
2. 量化   
把采样取得的的电平幅值按照一定的分级标度转化为对应的数字值并取整数。  
3. 编码   
编码是把量化的结果转换为与之对应的二进制编码。  
## 电路交换，报文交换，分组交换
### 电路交换
分为三个阶段：连接建立，数据传输，连接释放。  
在进行数据传输时，建立一条专用的物理连接路径，传输时一直被独占，知道通信结束。   
优点：  
1. 通信时延小
2. 有序传输
3. 没有冲突
4. 使用范围广
5. 实时性强
6. 控制简单
缺点：   
1. 建立连接时间长
2. 线路独占
3. 灵活性差
4. 难以规格化
### 报文交换
使用报文进行数据交换，报文包含目标地址，源地址等信息。   
优点：  
1. 无需建立连接。
2. 动态分配线路
3. 提高线路可靠性
4. 提高线路利用率
5. 提供多目标服务
缺点：
1. 对报文大小没有限制，要求网络节点有较大的缓存空间。
2. 数据进入交换节点后要经历存储，转发这一过程，引起转发时延。  
### 分组交换
采用**存储转发**，限制了每次传送的数据块的大小上限，把大的数据库划分为合理的小数据块。      
优点：  
1. 无建立时延
2. 线路利用率高
3. 简化了存储管理
4. 加速传输
5. 减少了出错概率和重发数据量。
缺点：
1. 存在存储转发时延。
2. 需要传输额外信息量
3. 当分组交换采用数据报服务时，可能会出现失序，丢失或重复分组。   
## 数据报与虚电路
### 数据报
特点:
1. 发送分组前不需要建立连接。
2. 网络尽最大努力交付，传输不保证可靠性。  
3. 发生的分组中要包含发送端和接受端的完整地址，以便可以独立传输。  
4. 分组在交换节点存储转发时，需要排队等候处理，这会带来一定的时延。  
5. 网络具有冗余路径，对故障的适应能力强，不会因为一个阶段故障导致整个网络崩溃。
6. 存储转发的时延一般较小，提高了网络的吞吐量。
7. 收发双方不独占某条链路，资源利用率高。  
### 虚电路
建立一个逻辑上的虚电路。  
特点：  
1. 虚电路通信链路的建立和拆除需要时间开销。
2. 虚电路的路由选择体现在连接建立阶段，连接建立后，就确定了传输路径。
3. 虚电路提供了可靠的通信功能，能保证每个分组正确且有序到达。  
4. 虚电路有一个致命的缺点，即当网络的某个节点或某条链路出现故障而彻底失效时，所有经过该节点或该链路的虚电路都遭到破坏。  
5. 分组首部不包含目的地址，包含的是虚电路标识符，开销小。  
